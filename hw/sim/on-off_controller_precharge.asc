Version 4.1
SHEET 1 2420 680
WIRE 1984 -1504 640 -1504
WIRE 960 -1376 864 -1376
WIRE 1056 -1376 960 -1376
WIRE 1184 -1376 1136 -1376
WIRE 1264 -1376 1184 -1376
WIRE 1920 -1376 1360 -1376
WIRE 1184 -1328 1184 -1376
WIRE 960 -1264 960 -1376
WIRE 1136 -1264 960 -1264
WIRE 1280 -1264 1280 -1328
WIRE 1280 -1264 1232 -1264
WIRE 48 -1136 -96 -1136
WIRE 768 -1136 48 -1136
WIRE 864 -1136 864 -1376
WIRE 864 -1136 768 -1136
WIRE 1024 -1136 864 -1136
WIRE 1168 -1136 1024 -1136
WIRE 1488 -1136 1168 -1136
WIRE 1648 -1136 1488 -1136
WIRE 1776 -1136 1648 -1136
WIRE 1920 -1136 1920 -1376
WIRE 1920 -1136 1872 -1136
WIRE 1952 -1136 1920 -1136
WIRE 1984 -1136 1984 -1504
WIRE 1984 -1136 1952 -1136
WIRE 2048 -1136 1984 -1136
WIRE 2112 -1136 2048 -1136
WIRE 2256 -1136 2192 -1136
WIRE 2352 -1136 2256 -1136
WIRE 768 -1120 768 -1136
WIRE 640 -1104 640 -1504
WIRE 640 -1104 496 -1104
WIRE 1168 -1088 1168 -1136
WIRE 1648 -1088 1648 -1136
WIRE 496 -1072 496 -1104
WIRE 640 -1072 640 -1104
WIRE 2352 -1040 2352 -1136
WIRE 2256 -1024 2256 -1136
WIRE 1024 -1008 1024 -1136
WIRE 1952 -1008 1952 -1136
WIRE 768 -992 768 -1040
WIRE 912 -992 768 -992
WIRE 976 -992 912 -992
WIRE 80 -976 48 -976
WIRE 208 -976 144 -976
WIRE 544 -976 208 -976
WIRE 640 -976 640 -1008
WIRE 640 -976 544 -976
WIRE 688 -976 640 -976
WIRE 544 -960 544 -976
WIRE 688 -960 688 -976
WIRE 1648 -944 1648 -1008
WIRE 1792 -944 1792 -1088
WIRE 1792 -944 1648 -944
WIRE 2256 -928 2256 -960
WIRE 2352 -928 2352 -960
WIRE 768 -896 768 -992
WIRE 1024 -896 1024 -912
WIRE 1168 -896 1168 -1008
WIRE 1168 -896 1024 -896
WIRE 1280 -896 1280 -1264
WIRE 1280 -896 1168 -896
WIRE 1856 -896 1280 -896
WIRE 688 -864 688 -896
WIRE 1488 -864 1488 -1136
WIRE 912 -848 912 -992
WIRE 1440 -848 912 -848
WIRE 640 -784 640 -976
WIRE 48 -768 48 -976
WIRE 144 -768 48 -768
WIRE 304 -768 224 -768
WIRE 320 -768 304 -768
WIRE 384 -768 320 -768
WIRE 608 -768 384 -768
WIRE 768 -752 768 -816
WIRE 768 -752 672 -752
WIRE 1488 -752 1488 -768
WIRE 1648 -752 1648 -944
WIRE 1648 -752 1488 -752
WIRE 384 -736 384 -768
WIRE 496 -736 496 -992
WIRE 544 -736 544 -880
WIRE 544 -736 496 -736
WIRE 608 -736 544 -736
WIRE 1648 -720 1648 -752
WIRE 496 -704 496 -736
WIRE 48 -688 48 -768
WIRE 80 -688 48 -688
WIRE 224 -688 160 -688
WIRE 320 -688 320 -768
WIRE 320 -688 288 -688
WIRE 640 -688 640 -720
WIRE 384 -640 384 -672
WIRE 496 -592 496 -624
WIRE 1648 -576 1648 -640
WIRE 1168 -560 1168 -896
WIRE 48 -496 48 -688
WIRE 128 -496 48 -496
WIRE 384 -496 128 -496
WIRE 1952 -496 1952 -928
WIRE 1952 -496 1696 -496
WIRE 1952 -448 1952 -496
WIRE 1168 -432 1168 -480
WIRE 1648 -432 1648 -480
WIRE 1648 -432 1168 -432
WIRE 1168 -384 1168 -432
WIRE 1856 -368 1856 -896
WIRE 1904 -368 1856 -368
WIRE 224 -304 176 -304
WIRE 608 -304 224 -304
WIRE 1120 -304 608 -304
WIRE 1952 -288 1952 -352
WIRE 176 -256 176 -304
WIRE 224 -256 224 -304
WIRE 1168 -256 1168 -288
WIRE 1648 -224 1648 -432
WIRE 48 -144 48 -496
WIRE 96 -144 48 -144
WIRE 176 -144 176 -192
WIRE 224 -144 224 -176
WIRE 224 -144 176 -144
WIRE 576 -144 304 -144
WIRE 1600 -144 576 -144
WIRE 1648 -96 1648 -128
WIRE 48 -80 48 -144
WIRE 96 -80 96 -144
WIRE 304 16 304 -144
WIRE 48 48 48 -16
WIRE 96 48 96 0
WIRE 96 48 48 48
WIRE 176 80 176 -144
WIRE 304 128 304 96
WIRE 48 144 48 48
WIRE 176 192 176 160
WIRE -96 208 -96 -1136
WIRE 48 256 48 224
WIRE -96 320 -96 288
FLAG -96 320 0
FLAG 48 256 0
FLAG 176 192 0
FLAG 304 128 0
FLAG 1648 -96 0
FLAG 1168 -256 0
FLAG 2352 -928 0
FLAG 2048 -1136 VIN
FLAG 48 -1136 VBAT
FLAG 128 -496 BTN_OFF
FLAG 608 -304 BTN_ON
FLAG 576 -144 ON_REQ
FLAG 640 -688 0
FLAG 496 -592 0
FLAG 688 -864 0
FLAG 496 -736 THR
FLAG 208 -976 COMP_SUP
FLAG 384 -640 0
FLAG 304 -768 TMR_COMP
FLAG 2256 -928 0
FLAG 1952 -288 0
SYMBOL voltage -96 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=10m
SYMATTR InstName V1
SYMATTR Value PWL(0 0 1m 0 2m 10 10000m 10 20001m 18 30000m 18)
SYMBOL voltage 48 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=10
SYMATTR InstName V2
SYMATTR Value PWL(0 0 10m 0 11m 10 8000m 10 8001m 0 20010m 0 20011m 18 28000m 18 28001m 0)
SYMBOL voltage 176 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=10
SYMATTR InstName V3
SYMATTR Value PWL(0 0 2m 0 3m 10 4m 10 5m 0 9000m 0 9001m 10 9002m 10 9003m 0 20002m 0 20003m 18 20004m 18 20005m 0 29000m 0 29001m 18 29002m 18 29003m 0)
SYMBOL voltage 304 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=10
SYMATTR InstName V4
SYMATTR Value PWL(0 0 3m 0 4m 3.3 7500m 3.3 7501m 0 9001m 0 9002m 3.3 9903m 3.3 9904m 0 20003m 0 20004m 3.3 27500m 3.3 27501m 0 29001m 0 29002m 3.3 29903m 3.3 29904m 0)
SYMBOL nmos 1600 -224 R0
SYMATTR InstName M1
SYMATTR Value BSS123
SYMBOL nmos 1120 -384 R0
SYMATTR InstName M2
SYMATTR Value BSS123
SYMBOL pmos 976 -912 M180
SYMATTR InstName M4
SYMATTR Value BSS84
SYMBOL pmos 1872 -1088 M270
SYMATTR InstName M5
SYMATTR Value FDS4435A
SYMBOL res 1152 -576 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 1152 -1104 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res 752 -1136 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 752 -912 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 2336 -1056 R0
SYMATTR InstName R7
SYMATTR Value 270
SYMBOL diode 64 -16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 192 -192 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res 80 -96 R0
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 208 -272 R0
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL Comparators\\LTC1841 640 -752 R0
SYMATTR InstName U1
SYMBOL diode 80 -960 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode 624 -1072 R0
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL res 528 -976 R0
SYMATTR InstName R10
SYMATTR Value 1Meg
SYMBOL res 480 -720 R0
SYMATTR InstName R11
SYMATTR Value 1Meg
SYMBOL cap 672 -960 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 480 -1088 R0
SYMATTR InstName R12
SYMATTR Value 10Meg
SYMBOL res 240 -784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 6.8Meg
SYMBOL res 176 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL diode 288 -704 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL cap 368 -736 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL cap 2240 -1024 R0
SYMATTR InstName C4
SYMATTR Value 100µ
SYMBOL res 1152 -1392 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10
SYMBOL pnp 1232 -1328 R90
SYMATTR InstName Q1
SYMATTR Value BC857A
SYMBOL pmos 1360 -1328 M270
SYMATTR InstName M3
SYMATTR Value FDS4435A
SYMBOL res 2096 -1120 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 1m
SYMBOL res 1632 -1104 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 1632 -736 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL nmos 1696 -576 M0
SYMATTR InstName M6
SYMATTR Value BSS123
SYMBOL res 1936 -1024 R0
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL pmos 1440 -768 M180
SYMATTR InstName M8
SYMATTR Value BSS84
SYMBOL nmos 1904 -448 R0
SYMATTR InstName M7
SYMATTR Value BSS123
TEXT -128 344 Left 2 !.tran 30
